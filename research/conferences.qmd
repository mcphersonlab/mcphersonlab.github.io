<!-- 
This file contains the conference map and calendar for the research page.
To edit conference information:
1. Find the 'conferences' list in the first Python code block below
2. Add, remove, or modify conference entries following the existing format
3. Each conference needs: name, location, lat, lon, start_date, end_date, type, and url
4. The map and table will automatically update based on this data

This file is included in research/index.qmd and renders at the bottom of the research page.
-->

## Conference Map and Calendar

### Upcoming Conferences and Events

```{python}
#| echo: false
#| warning: false

from ipyleaflet import Map, Marker, AwesomeIcon, Popup
from ipywidgets import HTML
import datetime

# Create a map centered on North America
m = Map(center=(20, 0), zoom=2)

# Conference data - locations, dates, and details
# Sorted by start date (nearest first) and only includes upcoming conferences
conferences = [
    {
        "name": "Houston C diff & Microbiome Conference",
        "location": "Houston, TX",
        "lat": 29.7191,
        "lon": -95.3881,
        "start_date": "2025-05-16",
        "end_date": "2025-05-16",
        "abstract_open": "2025-02-22",
        "abstract_close": "2025-04-22",
        "abstract_note": "",
        "type": "Conference",
        "url": "https://www.uh.edu/pharmacy/news-and-events/events/houston-cdiff-and-microbiome-conference/",
        "projects": []
    },
    {
        "name": "IDSA IDWeek",
        "location": "Atlanta, GA",
        "lat": 33.749,
        "lon": -84.388,
        "start_date": "2025-10-19",
        "end_date": "2025-10-22",
        "abstract_open": "2025-02-18",
        "abstract_close": "2025-05-01",
        "type": "Conference",
        "url": "https://www.idweek.org/",
        "projects": [
            "https://github.com/McPhersonLab/idweek-2025-abstract1",
            "https://github.com/McPhersonLab/idweek-2025-abstract2"
        ]
    },
    {
        "name": "GitHub Universe",
        "location": "San Francisco, CA",
        "lat": 37.8070,
        "lon": -122.4311,
        "start_date": "2025-10-28",
        "end_date": "2025-10-29",
        "abstract_open": "",
        "abstract_close": "",
        "abstract_note": "",
        "type": "Conference",
        "url": "https://githubuniverse.com/",
        "projects": []
    },
    {
        "name": "MS Ignite",
        "location": "San Francisco, CA",
        "lat": 37.7749,
        "lon": -122.4194,
        "start_date": "2025-11-18",
        "end_date": "2025-11-21",
        "abstract_open": "",
        "abstract_close": "",
        "abstract_note": "",
        "type": "Conference",
        "url": "https://ignite.microsoft.com/",
        "projects": []
    },
    {
        "name": "BARDA Innovation Symposium",
        "location": "Washington, DC",
        "lat": 38.9072,
        "lon": -77.0369,
        "start_date": "2025-11-20",
        "end_date": "2025-11-20",
        "abstract_open": "",
        "abstract_close": "",
        "abstract_note": "",
        "type": "Conference",
        "url": "https://drive.hhs.gov/innovation2025.html",
        "projects": []
    },
    {
        "name": "AWS re:Invent",
        "location": "Las Vegas, NV",
        "lat": 36.1219,
        "lon": -115.16623,
        "start_date": "2025-12-01",
        "end_date": "2025-12-05",
        "abstract_open": "",
        "abstract_close": "",
        "abstract_note": "",
        "type": "Conference",
        "url": "https://reinvent.awsevents.com/",
        "projects": []
    },
    {
        "name": "ASHP Midyear",
        "location": "Las Vegas, NV",
        "lat": 36.0865,
        "lon": -115.1734,
        "start_date": "2025-12-07",
        "end_date": "2025-12-10",
        "abstract_open": "2025-06-15",
        "abstract_close": "2025-10-01",
        "abstract_note": "",
        "type": "Conference",
        "url": "https://www.ashp.org/meetings-and-conferences/midyear-clinical-meeting-and-exhibition",
        "projects": []
    },
    {
        "name": "BPS Annual",
        "location": "Belfast, UK",
        "lat": 54.5973,
        "lon": -5.9301,
        "start_date": "2025-12-16",
        "end_date": "2025-12-18",
        "abstract_open": "2025-04-01",
        "abstract_close": "2025-09-09",
        "type": "Conference",
        "url": "https://www.bps.ac.uk/events",
        "projects": []
    },
    {
        "name": "TMC AMR",
        "location": "Houston, TX",
        "lat": 29.7110,
        "lon": -95.3981,
        "start_date": "2026-01-15",
        "end_date": "2026-01-17",
        "abstract_open": "2025-07-29",
        "abstract_close": "2025-11-15",
        "abstract_note": "",
        "type": "Conference",
        "url": "https://www.tmc.edu/events/",
        "projects": []
    },
    {
        "name": "IMARI Annual",
        "location": "Las Vegas, NV",
        "lat": 36.1699,
        "lon": -115.1398,
        "start_date": "2026-01-28",
        "end_date": "2026-01-30",
        "abstract_open": "2025-07-16",
        "abstract_close": "2025-10-01",
        "type": "Conference",
        "url": "https://imari.org",
        "projects": []
    },
    {
        "name": "BSAC and GARDP Antimicrobial Chemotherapy Conference",
        "location": "Online",
        "lat": 51.5074,
        "lon": -0.1278,
        "start_date": "2026-02-04",
        "end_date": "2026-02-05",
        "abstract_open": "",
        "abstract_close": "2025-11-15",
        "abstract_note": "Free online conference",
        "type": "Conference",
        "url": "https://acc-conference.com/",
        "projects": []
    },
    {
        "name": "AAAS Annual",
        "location": "Phoenix, AZ",
        "lat": 33.4484,
        "lon": -112.074,
        "start_date": "2026-02-12",
        "end_date": "2026-02-14",
        "abstract_open": "2025-06-05",
        "abstract_close": "2025-09-07",
        "type": "Conference",
        "url": "https://www.aaas.org/meetings",
        "projects": []
    },
    {
        "name": "CSIRO AMR Summit",
        "location": "Sydney, Australia",
        "lat": -33.8688,
        "lon": 151.2093,
        "start_date": "2026-02-18",
        "end_date": "2026-02-20",
        "abstract_open": "",
        "abstract_close": "",
        "abstract_note": "",
        "type": "Conference",
        "url": "https://www.csiro.au/en/about/challenges-missions/antimicrobial-resistance/amr-summit",
        "projects": []
    },
    {
        "name": "CROI Annual",
        "location": "Denver, CO",
        "lat": 39.7392,
        "lon": -104.9903,
        "start_date": "2026-02-22",
        "end_date": "2026-02-25",
        "abstract_open": "2025-08-28",
        "abstract_close": "2025-10-01",
        "type": "Conference",
        "url": "https://www.croiconference.org/",
        "projects": []
    },
    {
        "name": "EMBL AI and Biology",
        "location": "EMBL Heidelberg and Virtual",
        "lat": 49.3988,
        "lon": 8.6724,
        "start_date": "2026-03-10",
        "end_date": "2026-03-13",
        "abstract_open": "",
        "abstract_close": "",
        "abstract_note": "",
        "type": "Conference",
        "url": "https://www.embl.org/about/info/course-and-conference-office/events/ees26-02/",
        "projects": []
    },
    {
        "name": "NVIDIA GTC",
        "location": "San Jose, CA",
        "lat": 37.3297,
        "lon": -121.8900,
        "start_date": "2026-03-16",
        "end_date": "2026-03-19",
        "abstract_open": "",
        "abstract_close": "",
        "abstract_note": "",
        "type": "Conference",
        "url": "https://www.nvidia.com/gtc/",
        "projects": []
    },
    {
        "name": "ESCMID Annual",
        "location": "Munich, Germany",
        "lat": 48.1371,
        "lon": 11.5761,
        "start_date": "2026-04-17",
        "end_date": "2026-04-21",
        "abstract_open": "2025-10-15",
        "abstract_close": "2025-11-26",
        "type": "Conference",
        "url": "https://www.escmid.org/congress-events/escmid-global/",
        "projects": []
    },
    {
        "name": "Google Cloud Next",
        "location": "Las Vegas, NV",
        "lat": 36.0924,
        "lon": -115.1761,
        "start_date": "2026-04-22",
        "end_date": "2026-04-24",
        "abstract_open": "",
        "abstract_close": "",
        "abstract_note": "",
        "type": "Conference",
        "url": "https://cloud.withgoogle.com/next",
        "projects": []
    },
    {
        "name": "ASPET Annual",
        "location": "Minneapolis, MN",
        "lat": 44.9778,
        "lon": -93.265,
        "start_date": "2026-05-17",
        "end_date": "2026-05-20",
        "abstract_open": "2025-09-22",
        "abstract_close": "2025-12-04",
        "type": "Conference",
        "url": "https://www.aspet.org/aspet/meetings-awards",
        "projects": []
    },
    {
        "name": "ISPOR Annual",
        "location": "Philadelphia, PA",
        "lat": 39.9526,
        "lon": -75.1652,
        "start_date": "2026-05-17",
        "end_date": "2026-05-20",
        "abstract_open": "2025-10-31",
        "abstract_close": "2026-01-09",
        "type": "Conference",
        "url": "https://www.ispor.org/conferences-education",
        "projects": []
    },
    {
        "name": "ASM Microbe",
        "location": "Washington, DC",
        "lat": 38.9072,
        "lon": -77.0369,
        "start_date": "2026-06-11",
        "end_date": "2026-06-15",
        "abstract_open": "2025-10-15",
        "abstract_close": "2026-01-21",
        "abstract_note": "Travel awards: Oct 15 - Dec 2, 2025; Abstracts: Dec 2, 2025 - Jan 21, 2026",
        "type": "Conference",
        "url": "https://asm.org/events/asm-microbe",
        "projects": []
    },
    {
        "name": "Anaerobe Biennial",
        "location": "New York, NY, USA",
        "lat": 40.7306,
        "lon": -73.9352,
        "start_date": "2026-07-07",
        "end_date": "2026-07-10",
        "abstract_open": "2025-10-23",
        "abstract_close": "2026-02-01",
        "abstract_note": "Oral: Jan 1, 2026; Poster: Feb 1, 2026",
        "type": "Conference",
        "url": "http://www.anaerobe.org/2026/",
        "projects": []
    },
    {
        "name": "IUPHAR Annual",
        "location": "Melbourne, Australia",
        "lat": -37.8136,
        "lon": 144.9631,
        "start_date": "2026-07-12",
        "end_date": "2026-07-17",
        "abstract_open": "2025-02-01",
        "abstract_close": "2025-09-15",
        "type": "Conference",
        "url": "https://www.iuphar.org/",
        "projects": []
    },
    {
        "name": "AACP Pharmacy Education",
        "location": "Grapevine, TX",
        "lat": 32.9342,
        "lon": -97.0781,
        "start_date": "2026-07-18",
        "end_date": "2026-07-21",
        "abstract_open": "",
        "abstract_close": "",
        "abstract_note": "",
        "type": "Conference",
        "url": "https://www.aacp.org/events/annual-meetings",
        "projects": []
    },
    {
        "name": "Conference on Beneficial Microbes",
        "location": "Madison, WI",
        "lat": 43.0731,
        "lon": -89.4012,
        "start_date": "2026-07-19",
        "end_date": "2026-07-23",
        "abstract_open": "2026-02-01",
        "abstract_close": "2026-04-08",
        "abstract_note": "",
        "type": "Conference",
        "url": "https://conferences.union.wisc.edu/microbes/",
        "projects": []
    },
    {
        "name": "ASV Annual",
        "location": "Minneapolis, MN",
        "lat": 44.9778,
        "lon": -93.2650,
        "start_date": "2026-07-27",
        "end_date": "2026-07-30",
        "abstract_open": "2025-12-01",
        "abstract_close": "2026-02-01",
        "type": "Conference",
        "url": "https://www.asv.org/annual-meeting",
        "projects": []
    },
    {
        "name": "MSGERC Biennial",
        "location": "Denver, CO",
        "lat": 39.7392,
        "lon": -104.9903,
        "start_date": "2026-09-09",
        "end_date": "2026-09-11",
        "abstract_open": "2026-04-01",
        "abstract_close": "2026-07-31",
        "type": "Conference",
        "url": "https://msgerc.org/2026-biennial-meeting/",
        "projects": []
    },
    {
        "name": "Rice AI in Health",
        "location": "Houston, TX",
        "lat": 29.7174,
        "lon": -95.4018,
        "start_date": "2026-09-14",
        "end_date": "2026-09-17",
        "abstract_open": "",
        "abstract_close": "",
        "abstract_note": "",
        "type": "Conference",
        "url": "https://www.aihealthconference.com/",
        "projects": []
    },
    {
        "name": "ESCV Annual",
        "location": "Porto, Portugal",
        "lat": 41.1579,
        "lon": -8.6291,
        "start_date": "2026-09-16",
        "end_date": "2026-09-19",
        "abstract_open": "2026-02-02",
        "abstract_close": "2026-05-11",
        "type": "Conference",
        "url": "https://escv.eu/calendar-events/",
        "projects": []
    }
]

# Get current date once for all comparisons
current_date = datetime.datetime.now()

# Sort conferences by start date and parse dates once to ensure correct ordering
sorted_conferences = sorted(conferences, key=lambda x: x["start_date"])

# Parse dates once for all conferences
conf_dates = {}
for conf in sorted_conferences:
    conf_dates[conf["name"]] = {
        "start": datetime.datetime.strptime(conf["start_date"], "%Y-%m-%d"),
        "end": datetime.datetime.strptime(conf["end_date"], "%Y-%m-%d")
    }

# Find the next 3 upcoming conferences (start date in the future)
upcoming_conferences = []
for conf in sorted_conferences:
    if conf_dates[conf["name"]]["start"] > current_date:
        upcoming_conferences.append(conf["name"])
    if len(upcoming_conferences) >= 3:
        break

# Add markers for each conference location
for conf in sorted_conferences:
    # Get pre-parsed dates
    conf_start_date = conf_dates[conf["name"]]["start"]
    conf_end_date = conf_dates[conf["name"]]["end"]
    
    # Determine marker color based on conference status
    if conf_end_date < current_date:
        # Past conferences - use beige for even lighter appearance
        marker_color = 'beige'
    elif conf["name"] in upcoming_conferences:
        # Next 3 upcoming conferences - use dark red
        marker_color = 'darkred'
    else:
        # Other future conferences - use regular red
        marker_color = 'red'
    
    icon = AwesomeIcon(
        name='calendar',
        marker_color=marker_color,
        icon_color='white'
    )
    marker = Marker(
        location=(conf["lat"], conf["lon"]),
        draggable=False,
        title=conf["name"],
        icon=icon
    )
    
    # Format dates for display
    start = conf_start_date.strftime("%B %d, %Y")
    end = conf_end_date.strftime("%B %d, %Y")
    
    # Add URL link if available
    url_html = f"<br><a href='{conf['url']}' target='_blank' style='color: #007bff;'>Website</a>" if 'url' in conf else ""
    
    marker.popup = HTML(
        value=f"<div style='width: 200px;'><b>{conf['name']}</b><br><i>{conf['type']}</i><br>{conf['location']}<br>{start} - {end}{url_html}</div>"
    )
    m.add_layer(marker)

m
```

### Conference Calendar

```{python}
#| echo: false
#| warning: false

import pandas as pd
from datetime import datetime
import re

# Create a DataFrame for the conference calendar
calendar_data = []

for conf in conferences:
    start = datetime.strptime(conf["start_date"], "%Y-%m-%d")
    end = datetime.strptime(conf["end_date"], "%Y-%m-%d")
    
    # Format abstract submission dates
    abstract_open_str = "NA"
    abstract_close_str = "NA"
    if conf.get("abstract_open"):
        abstract_open = datetime.strptime(conf["abstract_open"], "%Y-%m-%d")
        abstract_open_str = abstract_open.strftime("%B %d, %Y")
    if conf.get("abstract_close"):
        abstract_close = datetime.strptime(conf["abstract_close"], "%Y-%m-%d")
        abstract_close_str = abstract_close.strftime("%B %d, %Y")
    
    calendar_data.append({
        "Event": conf["name"],
        "Location": conf["location"],
        "Abstract Open": abstract_open_str,
        "Abstract Close": abstract_close_str,
        "Abstract Note": conf.get("abstract_note", ""),
        "Start Date": start.strftime("%B %d, %Y"),
        "End Date": end.strftime("%B %d, %Y"),
        "URL": conf.get("url", ""),
        "Projects": conf.get("projects", []),
        "start_datetime": start,
        "end_datetime": end,
        "abstract_open_dt": datetime.strptime(conf["abstract_open"], "%Y-%m-%d") if conf.get("abstract_open") else None,
        "abstract_close_dt": datetime.strptime(conf["abstract_close"], "%Y-%m-%d") if conf.get("abstract_close") else None
    })

df = pd.DataFrame(calendar_data)

# Display as a styled table
from IPython.display import display, HTML

def create_calendar_html(df):
    current_date = datetime.now()
    
    # Find the next upcoming conference (first one with start date in the future)
    next_upcoming_idx = None
    for idx, row in df.iterrows():
        if row['start_datetime'] > current_date:
            next_upcoming_idx = idx
            break
    
    html = """
    <style>
        .calendar-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            font-size: 14px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        .calendar-table thead tr {
            background-color: #007bff;
            color: white;
            text-align: left;
            font-weight: bold;
        }
        .calendar-table th,
        .calendar-table td {
            padding: 12px 15px;
            border: 1px solid #ddd;
        }
        .calendar-table tbody tr {
            border-bottom: 1px solid #dddddd;
        }
        .calendar-table tbody tr:nth-of-type(even) {
            background-color: #f3f3f3;
        }
        .calendar-table tbody tr:hover {
            background-color: #e3f2fd;
            cursor: pointer;
        }
        .calendar-table tbody tr.past-conference {
            opacity: 0.5;
            background-color: #f9f9f9;
            color: #999;
        }
        .calendar-table tbody tr.past-conference:nth-of-type(even) {
            background-color: #f5f5f5;
        }
        .calendar-table tbody tr.next-upcoming {
            font-weight: bold;
            background-color: #fff3cd;
            border: 2px solid #ffc107;
        }
        .calendar-table tbody tr.next-upcoming:hover {
            background-color: #ffe69c;
        }
        .calendar-table tbody tr.submission-open {
            background-color: #d4edda !important;
            border-left: 4px solid #28a745;
        }
        .calendar-table tbody tr.submission-open:hover {
            background-color: #c3e6cb !important;
        }
        .abstract-note {
            font-size: 12px;
            color: #666;
            font-style: italic;
        }
    </style>
    <table class="calendar-table">
        <thead>
            <tr>
                <th>Event</th>
                <th>Abstract Submission</th>
                <th>Project</th>
            </tr>
        </thead>
        <tbody>
    """
    
    for idx, row in df.iterrows():
        url_link = f"<a href='{row['URL']}' target='_blank' style='color: #007bff;'>Visit</a>" if row['URL'] else ""
        
        # Determine row classes
        row_classes = []
        if row['end_datetime'] < current_date:
            row_classes.append("past-conference")
        if idx == next_upcoming_idx:
            row_classes.append("next-upcoming")
        
        # Check if abstract submission is currently open
        if row['abstract_open_dt'] and row['abstract_close_dt']:
            if row['abstract_open_dt'] <= current_date <= row['abstract_close_dt']:
                row_classes.append("submission-open")
        
        row_class_str = f" class='{' '.join(row_classes)}'" if row_classes else ""
        
        # Format Event column with Event name, Location, Conference dates, and URL link in italics
        event_cell = f"<strong>{row['Event']}</strong>"
        event_cell += f"<br><i>{row['Location']}</i>"
        
        # Format conference dates (merged start - end) and add to Event column
        conference_dates = f"{row['Start Date']} - {row['End Date']}"
        event_cell += f"<br><i>{conference_dates}</i>"
        
        # Add URL link on the fourth line if available
        if url_link:
            event_cell += f"<br>{url_link}"
        
        # Format abstract submission column (merged open - close) with bold close date
        if row['Abstract Open'] != "NA" and row['Abstract Close'] != "NA":
            abstract_submission = f"{row['Abstract Open']} - <strong>{row['Abstract Close']}</strong>"
        elif row['Abstract Close'] != "NA":
            abstract_submission = f"<strong>{row['Abstract Close']}</strong>"
        elif row['Abstract Open'] != "NA":
            abstract_submission = row['Abstract Open']
        else:
            abstract_submission = "NA"
        
        if row['Abstract Note']:
            abstract_submission += f"<br><span class='abstract-note'>{row['Abstract Note']}</span>"
        
        # Add project links - support multiple project-specific links
        projects = row.get('Projects', [])
        if projects and isinstance(projects, list) and len(projects) > 0:
            project_links = []
            for project_url in projects:
                project_links.append(f"<a href='{project_url}' target='_blank' style='color: #007bff;'>Link</a>")
            project_cell = "<br>".join(project_links)
        else:
            project_cell = ""
        
        html += f"""
            <tr{row_class_str}>
                <td>{event_cell}</td>
                <td>{abstract_submission}</td>
                <td>{project_cell}</td>
            </tr>
        """
    
    html += """
        </tbody>
    </table>
    """
    return html

display(HTML(create_calendar_html(df)))
```

and many more at:

- [**Cell Symposia**](https://www.cell.com/symposia)
- [**Keystone Symposia**](https://www.keystonesymposia.org/)
- [**Cold Spring Harbor Laboratory**](https://meetings.cshl.edu/)
- [**Wellcome Trust**](https://coursesandconferences.wellcomeconnectingscience.org/our-events/conferences/)
- [**University of Texas**](https://research.utexas.edu/events)
- [**UT MD Anderson Cancer Center**](https://www.mdanderson.org/research/research-resources/conferences-seminars.html)
- [**Houston Methodist**](https://attend.houstonmethodist.org/)
- [**Baylor College of Medicine**](https://www.bcm.edu/departments/medicine/research/conferences-grand-rounds-seminars)
- [**UT School of Public Health**](https://sph.uth.edu/events/)
